(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(56)},30:function(e,t,a){},51:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n,s=a(0),o=a.n(s),r=a(20),c=a.n(r),l=a(60),i=a(59),u=a(6),m=a(7),h=a(9),p=a(8),f=a(10),d=(a(30),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).onScroll=function(){var e=a.state.smallNav,t=window.scrollY>=100;e!==t&&a.setState({smallNav:t})},a.state={smallNav:!1},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){return o.a.createElement("nav",{className:"navbar is-dark is-fixed-top",role:"navigation","aria-label":"main navigation",style:{boxShadow:"1px 1px 6px #ababab"}},o.a.createElement("div",{className:"navbar-brand"},o.a.createElement("a",{className:"navbar-item alq-navbar__logo ".concat(this.state.smallNav?"alq-navbar__logo_small":""),href:"/"},"A-La Quote!")),o.a.createElement("div",{className:"navbar-end"},o.a.createElement("div",{className:"navbar-item"},o.a.createElement("div",{className:"control has-icons-left has-icons-right"},o.a.createElement("input",{className:"input ".concat(this.state.smallNav?"is-small":""),type:"text"}),o.a.createElement("span",{className:"icon is-small is-left"},o.a.createElement("i",{className:"fas fa-search"}))))))}}]),t}(o.a.Component)),v=a(13),E=a(21),g=a.n(E),q=a(58);a(51);!function(e){e.BOOK="BOOK",e.TV="TV",e.MOVIE="MOVIE"}(n||(n={}));var b=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).quote=void 0,a.quote=e.quote,a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"getSourceClass",value:function(e){switch(e.source){case n.BOOK:return"fa-book";case n.TV:return"fa-tv";case n.MOVIE:return"fa-film"}}},{key:"render",value:function(){return o.a.createElement("div",{className:"card alq-quote__container",style:{marginBottom:"40px"}},this.quote.image&&o.a.createElement("div",{className:"card-image"},o.a.createElement("figure",{className:"image is-2by1"},o.a.createElement("img",{src:this.quote.image,alt:"quote image"}))),o.a.createElement("div",{className:"card-content"},o.a.createElement("p",{className:"title alq-quote__content"},'"',this.quote.content,'"'),o.a.createElement("small",{className:"subtitle alq-quote__author"},o.a.createElement(q.a,{to:"/author/".concat(this.quote.author)},this.quote.author),this.quote.author?", ":null,o.a.createElement(q.a,{to:"/appearsIn/".concat(this.quote.appearsIn)},this.quote.appearsIn)),"\xa0",o.a.createElement("span",{className:"icon is-small"},o.a.createElement(q.a,{to:"/source/".concat(this.quote.source)},o.a.createElement("i",{className:"fas "+this.getSourceClass(this.quote)})))))}}]),t}(o.a.Component),N=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).axiosGQL=void 0,a.pageSize=3,a.quoteQuery="\n        query PaginatedQuotes($first: Int, $offset: Int, $author: String, $appearsIn: String, $source: Source) {\n            paginatedQuotes(first: $first, offset: $offset, author: $author, appearsIn: $appearsIn, source: $source) {\n            total\n            quotes {\n                appearsIn\n                author\n                content\n                image\n                source\n                }\n            }\n        }",a.onScroll=function(){window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight&&a.loadQuotes()},a.state={loading:!1,noMore:!1,quotes:[],params:e.match.params},console.log(e),a.axiosGQL=g.a.create({baseURL:"https://alq-alq-graphql.7e14.starter-us-west-2.openshiftapps.com/graphql"}),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll),this.loadQuotes()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"loadQuotes",value:function(){var e=this,t=this.state.loading,a=this.state.noMore;if(!t&&!a){this.setState({loading:!0});var n={query:this.quoteQuery,variables:{first:this.pageSize,offset:this.state.quotes.length,author:this.state.params.author,source:this.state.params.source,appearsIn:this.state.params.appearsIn}};this.axiosGQL.post("",n).then(function(t){var a=t.data.data.paginatedQuotes;e.setState({loading:!1,quotes:[].concat(Object(v.a)(e.state.quotes),Object(v.a)(a.quotes)),noMore:e.state.quotes.length+a.quotes.length>=a.total})},function(){e.setState({loading:!1})})}}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.state.quotes.map(function(e){return o.a.createElement(b,{key:e.content,quote:e})}),this.state.loading&&o.a.createElement("span",{className:"icon is-large",style:{margin:"0 auto",display:"block"}},o.a.createElement("i",{className:"fas fa-spinner fa-spin fa-3x"})),this.state.noMore&&o.a.createElement("article",{className:"message is-info"},o.a.createElement("div",{className:"message-header"},o.a.createElement("p",null,"This is the end")),o.a.createElement("div",{className:"message-body"},"Oh jeez! You've reached the end for today, Morty!")))}}]),t}(o.a.Component);c.a.render(o.a.createElement(function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(d,null),o.a.createElement("section",{className:"container",style:{marginTop:"100px"}},o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column is-three-fifths is-offset-one-fifth"},o.a.createElement(l.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{path:"/",exact:!0,component:N}),o.a.createElement(i.a,{path:"/author/:author",component:N}),o.a.createElement(i.a,{path:"/appearsIn/:appearsIn",component:N}),o.a.createElement(i.a,{path:"/source/:source",component:N})))))))},null),document.querySelector("#root"))}},[[24,2,1]]]);
//# sourceMappingURL=main.0ccaa4bf.chunk.js.map